{"version":3,"file":"js/654.0f5d3564.js","mappings":"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","sources":["webpack://login-vue/./src/components/MessagesComponent.vue","webpack://login-vue/./src/components/MessageCard.vue","webpack://login-vue/./src/components/MessageCard.vue?3d29","webpack://login-vue/./src/components/MessagesComponent.vue?3138"],"sourcesContent":["<!-- MessagesComponent.vue -->\r\n<template>\r\n  <div class=\"container\">\r\n    <h1 class=\"title\">消息中心</h1>\r\n    <div class=\"messages-list\">\r\n      <message-card\r\n        v-for=\"message in messages\"\r\n        :key=\"message.id\"\r\n        :title=\"message.title\"\r\n        :content=\"message.content\"\r\n        :time=\"message.time\"\r\n        :is-read=\"message.isRead\"\r\n        @show-details=\"displayMessageDetails\"\r\n      ></message-card>\r\n    </div>\r\n    <div v-if=\"showDetails\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h2>{{ details.title }}</h2>\r\n        <p>{{ details.content }}</p>\r\n        <p>{{ details.time }}</p>\r\n        <button @click=\"closeDetails\">关闭</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MessageCard from './MessageCard.vue';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'MessagesComponent',\r\n  components: {\r\n    MessageCard\r\n  },\r\n  data() {\r\n    return {\r\n      messages: [\r\n        { id: 1, title: '欢迎！', content: '欢迎使用医院预约挂号系统', time: '2024-07-20 08:00', isRead: false },\r\n        // 更多消息...\r\n      ],\r\n      showDetails: false,\r\n      details: {},\r\n      intervalId: null, // 用于存储定时器的 ID\r\n    };\r\n  },\r\n\r\n\r\n  created() {\r\n    this.startCheckingForMessages(); // 组件创建后开始检查新消息\r\n  },\r\n  beforeUnmount() {\r\n    if (this.intervalId) {\r\n      clearInterval(this.intervalId); // 组件销毁前清除定时器\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    displayMessageDetails(details) {\r\n      this.details = details;\r\n      this.showDetails = true;\r\n    },\r\n    closeDetails() {\r\n      this.showDetails = false;\r\n    },\r\n    startCheckingForMessages() {\r\n      this.intervalId = setInterval(() => {\r\n        this.fetchMessages();\r\n      }, 10000); // 每 10 秒检查一次新消息\r\n    },\r\n    fetchMessages() {\r\n      // 模拟从后端获取新消息的过程\r\n      axios.get('/messages')\r\n        .then(response => {\r\n          const newMessages = response.data;\r\n          this.messages = [...this.messages, ...newMessages];\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching messages:', error);\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  height: 100vh; /* 使容器占满整个视口高度 */\r\n  width: calc(100% - 200px); /* 宽度减去 nav-bar 的宽度 */\r\n  box-sizing: border-box; /* 确保 padding 不会影响宽度和高度 */\r\n  padding: 20px; /* 根据需要添加内边距 */\r\n  margin-left: 200px; /* 与 nav-bar 保持一定距离 */\r\n}\r\n\r\n.title {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.messages-list {\r\n  max-width: 95%;\r\n  margin: 0 20px;\r\n}\r\n\r\n.message-card {\r\n  margin-bottom: 20px;\r\n  cursor: pointer; /* 添加手型指针 */\r\n}\r\n\r\n.modal {\r\n  position: fixed; /* 固定定位，相对于浏览器窗口定位 */\r\n  top: 50%; /* 从顶部开始，位于视口高度的50% */\r\n  left: 50%; /* 从左侧开始，位于视口宽度的50% */\r\n  transform: translate(-50%, -50%); /* 向左和向上移动自身尺寸的50%，以确保完全居中 */\r\n  width: 50%; /* 宽度为视口宽度的50% */\r\n  height: 50%; /* 高度为视口高度的50% */\r\n  background-color: rgba(0, 0, 0, 0.5); /* 半透明背景 */\r\n  display: flex; /* 使用 Flexbox 布局 */\r\n  align-items: center; /* 垂直居中对齐子元素 */\r\n  justify-content: center; /* 水平居中对齐子元素 */\r\n  box-sizing: border-box; /* 边框和内边距包含在宽度和高度内 */\r\n  \r\n}\r\n\r\n.modal-content {\r\n  background-color: white;\r\n  text-align: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  border: 2px solid black; /* 添加边框线 */\r\n  border-radius: 10px; /* 为边框添加圆角 */\r\n}\r\n\r\nbutton {\r\n  margin-top: 20px;\r\n}\r\n\r\n.container {\r\n\r\n  margin-left:20px;\r\n /* 使容器占满整个视口高度 */\r\n  width: 100%; /* 沾满整个视口宽度 */\r\n/* 根据需要添加内边距 */\r\n}\r\n</style>","<!-- MessageCard.vue -->\r\n<template>\r\n    <div class=\"message-card\" @click=\"showDetails\">\r\n      <div class=\"message-title\">{{ title }}</div>\r\n      <div class=\"message-content\">{{ content }}</div>\r\n      <div class=\"message-time\">{{ time }}</div>\r\n      <div v-if=\"!isRead\" class=\"unread-dot\"></div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    props: {\r\n      title: String,\r\n      content: String,\r\n      time: String,\r\n      isRead: Boolean\r\n    },\r\n    methods: {\r\n      showDetails() {\r\n        this.$emit('show-details', { title: this.title, content: this.content, time: this.time });\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .message-card {\r\n    width: 100%; /* 宽度固定为100% */\r\n    padding: 15px; /* 内边距 */\r\n    border: 1px solid #dddddd; /* 边框 */\r\n    border-radius: 8px; /* 圆角 */\r\n    margin-bottom: 10px; /* 底部外边距 */\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* 阴影 */\r\n    display: flex;\r\n    flex-direction: column; /* 列布局 */\r\n    background-color: white;\r\n  }\r\n  \r\n  .message-title {\r\n    font-weight: bold; /* 加粗体标题 */\r\n    border-bottom: 2px solid #333; /* 底部边框加粗 */\r\n    padding-bottom: 10px; /* 底部内边距 */\r\n    margin-bottom: 10px; /* 底部外边距 */\r\n  }\r\n  \r\n  .message-content {\r\n    text-align: justify; /* 内容两端对齐 */\r\n    margin-bottom: 10px; /* 底部外边距 */\r\n  }\r\n  \r\n  .message-time {\r\n    align-self: flex-end; /* 自动对齐方式为flex-end */\r\n    font-size: 0.9em; /* 字体大小 */\r\n    color: #888; /* 字体颜色 */\r\n  }\r\n  </style>","import { render } from \"./MessageCard.vue?vue&type=template&id=151a387a&scoped=true\"\nimport script from \"./MessageCard.vue?vue&type=script&lang=js\"\nexport * from \"./MessageCard.vue?vue&type=script&lang=js\"\n\nimport \"./MessageCard.vue?vue&type=style&index=0&id=151a387a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-151a387a\"]])\n\nexport default __exports__","import { render } from \"./MessagesComponent.vue?vue&type=template&id=3bffed8f&scoped=true\"\nimport script from \"./MessagesComponent.vue?vue&type=script&lang=js\"\nexport * from \"./MessagesComponent.vue?vue&type=script&lang=js\"\n\nimport \"./MessagesComponent.vue?vue&type=style&index=0&id=3bffed8f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3bffed8f\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","messages","message","_createBlock","_component_message_card","id","title","content","time","isRead","onShowDetails","$options","displayMessageDetails","showDetails","_hoisted_3","_hoisted_4","_toDisplayString","details","onClick","_cache","args","closeDetails","_createCommentVNode","$props","props","String","Boolean","methods","this","$emit","__exports__","name","components","MessageCard","data","intervalId","created","startCheckingForMessages","beforeUnmount","clearInterval","setInterval","fetchMessages","axios","get","then","response","newMessages","catch","error","console","render"],"sourceRoot":""}